<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
 
<div class="container emp-profile">
  <div class="header">
    <h1>Welcome</h1>
    <div class="logout-button">
      <button class="logout-btn" (click)="confirmLogout()">Logout</button>
    </div>
  </div>
  <form (ngSubmit)="onSubmit()">
    <div class="row">
      <div class="col-md-6">
        <div class="profile-head">
          <h5>{{ jobseeker.name || 'Name' }}</h5>
          <h6>{{ jobseeker.designation || 'Designation' }}</h6>
          <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">About</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="col-md-6">
        <input type="button" class="profile-edit-btn" (click)="toggleEdit()" [value]="isEditing ? 'Save Profile' : 'Edit Profile'"/>
        <button type="button" class="delete-btn" (click)="onDelete()">Delete</button> <!-- Added Delete button -->
               
    </div>
    </div>
    <div class="row">
      <div class="col-md-8">
        <div class="tab-content profile-tab" id="myTabContent">
          <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
            <div class="row">
              <div class="col-md-6">
                <label>Name</label>
              </div>
              <div class="col-md-6">
                <input type="text" class="form-control" [(ngModel)]="jobseeker.name" name = "na" id="name" [attr.disabled]="!isEditing ? true : null"/>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <label>Email</label>
              </div>
              <div class="col-md-6">
                <form #form="ngForm">
                  <input
                    type="email"
                    class="form-control"
                    [(ngModel)]="jobseeker.email"
                    name="mail"
                    id="mail"
                    [attr.disabled]="!isEditing ? true : null"
                    #email="ngModel"
                    required
                    email
                  />
                  <div *ngIf="email.invalid && (email.dirty || email.touched)" class="validation-message">
                    <div *ngIf="email.errors?.['required']">Email is required.</div>
                    <div *ngIf="email.errors?.['email']">Invalid email format.</div>
                  </div>
                </form>
              </div>
              
            </div>
            <div class="row">
                <div class="col-md-6">
                  <label>Password</label>
                </div>
                <div class="col-md-6">
                  <input type="password" class="form-control" [(ngModel)]="jobseeker.password" name="password" id="password" [attr.disabled]="!isEditing ? true : null" required minlength="5" #passwordField="ngModel"/>
    <div *ngIf="passwordField.invalid && (passwordField.dirty || passwordField.touched)" class="validation-message">
      <div *ngIf="passwordField.errors?.['required']">Password is required.</div>
      <div *ngIf="passwordField.errors?.['minlength']">Password must be at least 5 characters long.</div>
    </div>
                </div>
              </div>
            <div class="row">
              <div class="col-md-6">
                <label>Phone</label>
              </div>
              <div class="col-md-6">
                <input type="text" class="form-control" [(ngModel)]="jobseeker.phone_number" name = "no" id="no" [attr.disabled]="!isEditing ? true : null" required minlength="10" maxlength="10" #contactNumber="ngModel">
                <div *ngIf="contactNumber.invalid && (contactNumber.dirty || contactNumber.touched)" class="validation-message">
                  <div *ngIf="contactNumber.errors?.['required']">Phone number is required.</div>
                  <div *ngIf="contactNumber.errors?.['minlength'] || contactNumber.errors?.['maxlength']">Phone number must be exactly 10 digits.</div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <label>Address</label>
              </div>
              <div class="col-md-6">
                <input type="text" class="form-control" [(ngModel)]="jobseeker.address" name = "add" id="add" [attr.disabled]="!isEditing ? true : null"/>
              </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                  <label>Designation</label>
                </div>
                <div class="col-md-6">
                  <input type="text" class="form-control" [(ngModel)]="jobseeker.designation" name="designation" id="designation" [attr.disabled]="!isEditing ? true : null"/>
                </div>
              </div>
            <div class="row">
              <div class="col-md-6">
                <label>Education Background</label>
              </div>
              <div class="col-md-6">
                <input type="text" class="form-control" [(ngModel)]="jobseeker.education_bg" name = "edu" id="edu" [attr.disabled]="!isEditing ? true : null"/>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <label>Work Experience</label>
              </div>
              <div class="col-md-6">
                <input type="text" class="form-control" [(ngModel)]="jobseeker.work_experience" name = "exp" id="exp"  [attr.disabled]="!isEditing ? true : null"/>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <label>Skills</label>
              </div>
              <div class="col-md-6">
                <input type="text" class="form-control" [(ngModel)]="jobseeker.skills" name = "skill" id="skill" [attr.disabled]="!isEditing ? true : null"/>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <label>Resume Link</label>
              </div>
              <div class="col-md-6">
                <input type="url" class="form-control" [(ngModel)]="jobseeker.resume_link" name = "link" id="link"  [attr.disabled]="!isEditing ? true : null"/>
              </div>
            </div>
          </div>
          <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
            <!-- Add profile-specific content here if needed -->
          </div>
        </div>
      </div>
    </div>
  </form>
  <app-jssidenav></app-jssidenav>
  <router-outlet></router-outlet>
</div>